{"id":"rY8c","dependencies":[{"name":"C:\\Users\\jaeds\\Git Projects\\Locicomp\\public-source\\package.json","includedInParent":true,"mtime":1609120493490},{"name":"C:\\Users\\jaeds\\Git Projects\\Locicomp\\public-source\\node_modules\\browser-image-compression\\package.json","includedInParent":true,"mtime":1609035264671}],"generated":{"js":"\"use strict\";function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(Object(i),!0).forEach(function(n){e(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}}(e,n)||function(e,n){if(e){if(\"string\"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var o=\"undefined\"!=typeof window,a=o&&window.cordova&&window.cordova.require&&window.cordova.require(\"cordova/modulemapper\"),c=o&&(a&&a.getOriginalSymbol(window,\"File\")||File),s=o&&(a&&a.getOriginalSymbol(window,\"FileReader\")||FileReader),u=o&&new Promise(function(e,n){var t,r,i,o;return A(\"data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==\",\"test.jpg\",Date.now()).then(function(a){try{return g(t=a).then(function(a){try{return d(r=a[1],t.type,t.name,t.lastModified).then(function(t){try{return i=t,E(r),l(i).then(function(t){try{return m(t).then(function(t){try{return e(1===(o=t).width&&2===o.height)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)});function l(e){return new Promise(function(n,t){var r=new s;r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)},r.readAsDataURL(e)})}function A(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(r){for(var i=e.split(\",\"),o=i[0].match(/:(.*?);/)[1],a=window.atob(i[1]),c=a.length,s=new Uint8Array(c);c--;)s[c]=a.charCodeAt(c);var u=new Blob([s],{type:o});u.name=n,u.lastModified=t,r(u)})}function m(e){return new Promise(function(n,t){var r=new Image;r.onload=function(){return n(r)},r.onerror=function(e){return t(e)},r.src=e})}function h(e){var n=r(y(e.width,e.height),2),t=n[0];return n[1].drawImage(e,0,0,t.width,t.height),t}function g(e){return new Promise(function(n,t){var r,i,o=function(){try{return i=h(r),n([r,i])}catch(e){return t(e)}},a=function(n){try{return l(e).then(function(e){try{return m(e).then(function(e){try{return r=e,o()}catch(e){return t(e)}},t)}catch(e){return t(e)}},t)}catch(e){return t(e)}};try{return createImageBitmap(e).then(function(e){try{return r=e,o()}catch(e){return a()}},a)}catch(e){a()}})}function d(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(o,a){var c;return\"function\"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?e.convertToBlob({type:n,quality:i}).then(function(e){try{return(c=e).name=t,c.lastModified=r,s.call(this)}catch(e){return a(e)}}.bind(this),a):A(e.toDataURL(n,i),t,r).then(function(e){try{return c=e,s.call(this)}catch(e){return a(e)}}.bind(this),a);function s(){return o(c)}})}function p(e){return new Promise(function(n,t){var r=new s;r.onload=function(e){var t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return n(-2);for(var r=t.byteLength,i=2;i<r;){if(t.getUint16(i+2,!1)<=8)return n(-1);var o=t.getUint16(i,!1);if(i+=2,65505==o){if(1165519206!=t.getUint32(i+=2,!1))return n(-1);var a=18761==t.getUint16(i+=6,!1);i+=t.getUint32(i+4,a);var c=t.getUint16(i,a);i+=2;for(var s=0;s<c;s++)if(274==t.getUint16(i+12*s,a))return n(t.getUint16(i+12*s+8,a))}else{if(65280!=(65280&o))break;i+=t.getUint16(i,!1)}}return n(-1)},r.onerror=function(e){return t(e)},r.readAsArrayBuffer(e)})}function w(e,n){var t,i=e.width,o=e.height,a=n.maxWidthOrHeight,c=e;if(isFinite(a)&&(i>a||o>a)){var s=r(y(i,o),2);c=s[0],t=s[1],i>o?(c.width=a,c.height=o/i*a):(c.width=i/o*a,c.height=a),t.drawImage(e,0,0,c.width,c.height),E(e)}return c}function v(e,n){var t=e.width,i=e.height,o=r(y(t,i),2),a=o[0],c=o[1];switch(4<n&&n<9?(a.width=i,a.height=t):(a.width=t,a.height=i),n){case 2:c.transform(-1,0,0,1,t,0);break;case 3:c.transform(-1,0,0,-1,t,i);break;case 4:c.transform(1,0,0,-1,0,i);break;case 5:c.transform(0,1,1,0,0,0);break;case 6:c.transform(0,1,-1,0,i,0);break;case 7:c.transform(0,-1,-1,0,i,t);break;case 8:c.transform(0,-1,1,0,0,t)}return c.drawImage(e,0,0,t,i),E(e),a}function y(e,n){var t,r;try{if(null===(r=(t=new OffscreenCanvas(e,n)).getContext(\"2d\")))throw new Error(\"getContext of OffscreenCanvas returns null\")}catch(e){r=(t=document.createElement(\"canvas\")).getContext(\"2d\")}return t.width=e,t.height=n,[t,r]}function E(e){e.width=0,e.height=0}function b(e,n){return new Promise(function(t,i){var o,a,c,s,f,l,A,m,h,b,B,C,Q,O,I,F,M,U;function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;o+=e,n.onProgress(Math.min(o,100))}function P(e){o=Math.min(Math.max(e,o),100),n.onProgress(o)}return o=0,a=n.maxIteration||10,c=1024*n.maxSizeMB*1024,x(),g(e).then(function(o){try{var g=r(o,2);return g[0],s=g[1],x(),f=w(s,n),x(),new Promise(function(t,r){var i;if(!(i=n.exifOrientation))return p(e).then(function(e){try{return i=e,o.call(this)}catch(e){return r(e)}}.bind(this),r);function o(){return t(i)}return o.call(this)}).then(function(o){try{return l=o,x(),u.then(function(o){try{return A=o?f:v(f,l),x(),m=n.initialQuality||1,h=n.fileType||e.type,d(A,h,e.name,e.lastModified,m).then(function(n){try{{if(b=n,x(),B=b.size>c,C=b.size>e.size,!B&&!C)return P(100),t(b);var o;function u(){if(a--&&(I>c||I>Q)){var n,t,o=r(y(n=B?.95*U.width:U.width,t=B?.95*U.height:U.height),2);return M=o[0],o[1].drawImage(U,0,0,n,t),m*=.95,d(M,\"image/jpeg\",e.name,e.lastModified,m).then(function(e){try{return F=e,E(U),U=M,I=F.size,P(Math.min(99,Math.floor((O-I)/(O-c)*100))),u}catch(e){return i(e)}},i)}return[1]}return Q=e.size,O=b.size,I=O,U=A,(o=function(e){for(;e;){if(e.then)return void e.then(o,i);try{if(e.pop){if(e.length)return e.pop()?l.call(this):e;e=u}else e=e.call(this)}catch(e){return i(e)}}}.bind(this))(u);function l(){return\"image/jpeg\"!==h&&((F=new Blob([F],{type:h})).name=e.name,F.lastModified=e.lastModified),E(U),E(M),E(f),E(A),E(s),P(100),t(F)}}}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)})}o&&(Number.isInteger=Number.isInteger||function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e});var B,C,Q=0;function O(){return e=\"\\n    function imageCompression (){return (\".concat(F,\").apply(null, arguments)}\\n\\n    imageCompression.getDataUrlFromFile = \").concat(F.getDataUrlFromFile,\"\\n    imageCompression.getFilefromDataUrl = \").concat(F.getFilefromDataUrl,\"\\n    imageCompression.loadImage = \").concat(F.loadImage,\"\\n    imageCompression.drawImageInCanvas = \").concat(F.drawImageInCanvas,\"\\n    imageCompression.drawFileInCanvas = \").concat(F.drawFileInCanvas,\"\\n    imageCompression.canvasToFile = \").concat(F.canvasToFile,\"\\n    imageCompression.getExifOrientation = \").concat(F.getExifOrientation,\"\\n    imageCompression.handleMaxWidthOrHeight = \").concat(F.handleMaxWidthOrHeight,\"\\n    imageCompression.followExifOrientation = \").concat(F.followExifOrientation,\"\\n    imageCompression.cleanupMemory = \").concat(F.cleanupMemory,\"\\n\\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\\n    loadImage = imageCompression.loadImage\\n    drawImageInCanvas = imageCompression.drawImageInCanvas\\n    drawFileInCanvas = imageCompression.drawFileInCanvas\\n    canvasToFile = imageCompression.canvasToFile\\n    getExifOrientation = imageCompression.getExifOrientation\\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\\n    followExifOrientation = imageCompression.followExifOrientation\\n    cleanupMemory = imageCompression.cleanupMemory\\n\\n    getNewCanvasAndCtx = \").concat(y,\"\\n    \\n    CustomFileReader = FileReader\\n    \\n    CustomFile = File\\n    \\n    function _slicedToArray(arr, n) { return arr }\\n    \\n    function _typeof(a) { return typeof a }\\n\\n    function compress (){return (\").concat(b,\").apply(null, arguments)}\\n    \"),URL.createObjectURL(new Blob([e],{type:\"application/javascript\"}));var e}function I(){return\"function\"==typeof(e=\"\\n    let scriptImported = false\\n    self.addEventListener('message', async (e) => {\\n      const { file, id, imageCompressionLibUrl, options } = e.data\\n      options.onProgress = (progress) => self.postMessage({ progress, id })\\n      try {\\n        if (!scriptImported) {\\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\\n          self.importScripts(imageCompressionLibUrl)\\n          scriptImported = true\\n        }\\n        // console.log('[worker] self', self)\\n        const compressedFile = await imageCompression(file, options)\\n        self.postMessage({ file: compressedFile, id })\\n      } catch (e) {\\n        // console.error('[worker] error', e)\\n        self.postMessage({ error: e.message + '\\\\n' + e.stack, id })\\n      }\\n    })\\n  \")&&(e=\"(\".concat(f,\")()\")),new Worker(URL.createObjectURL(new Blob([e])));var e}function F(e,n){return new Promise(function(r,i){var o,a,s;if(n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,a=\"boolean\"!=typeof n.useWebWorker||n.useWebWorker,delete n.useWebWorker,void 0===n.onProgress&&(n.onProgress=function(){}),!(e instanceof Blob||e instanceof c))return i(new Error(\"The file given is not an instance of Blob or File\"));if(!/^image/.test(e.type))return i(new Error(\"The file given is not an image\"));if(s=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!a||\"function\"!=typeof Worker||s)return b(e,n).then(function(e){try{return o=e,l.call(this)}catch(e){return i(e)}}.bind(this),i);var u=function(){try{return l.call(this)}catch(e){return i(e)}}.bind(this),f=function(t){try{return b(e,n).then(function(e){try{return o=e,u()}catch(e){return i(e)}},i)}catch(e){return i(e)}};try{return function(e,n){return new Promise(function(r,i){return new Promise(function(o,a){var c=Q++;return B||(B=O()),C||(C=I()),C.addEventListener(\"message\",function e(t){if(t.data.id===c){if(void 0!==t.data.progress)return void n.onProgress(t.data.progress);C.removeEventListener(\"message\",e),t.data.error&&i(new Error(t.data.error)),r(t.data.file)}}),C.addEventListener(\"error\",i),C.postMessage({file:e,id:c,imageCompressionLibUrl:B,options:t(t({},n),{},{onProgress:void 0})}),o()})})}(e,n).then(function(e){try{return o=e,u()}catch(e){return f()}},f)}catch(e){f()}function l(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}return r(o)}})}F.getDataUrlFromFile=l,F.getFilefromDataUrl=A,F.loadImage=m,F.drawImageInCanvas=h,F.drawFileInCanvas=g,F.canvasToFile=d,F.getExifOrientation=p,F.handleMaxWidthOrHeight=w,F.followExifOrientation=v,F.cleanupMemory=E,F.version=\"1.0.13\";var M=F;exports.default=M;"},"sourceMaps":null,"error":null,"hash":"a89463e2066e9e4c199bcec2cfef3ac3","cacheData":{"env":{}}}