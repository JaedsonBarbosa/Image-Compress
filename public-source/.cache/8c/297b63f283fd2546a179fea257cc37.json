{"id":"rY8c","dependencies":[{"name":"C:\\Users\\jaeds\\Git Projects\\Locicomp\\public-source\\package.json","includedInParent":true,"mtime":1609120493490},{"name":"C:\\Users\\jaeds\\Git Projects\\Locicomp\\public-source\\node_modules\\browser-image-compression\\package.json","includedInParent":true,"mtime":1609035264671}],"generated":{"js":"var $rY8c$exports={};function $rY8c$var$_defineProperty(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $rY8c$var$ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function $rY8c$var$_objectSpread2(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?$rY8c$var$ownKeys(Object(t),!0).forEach(function(e){$rY8c$var$_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$rY8c$var$ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function $rY8c$var$_slicedToArray(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],n=!0,a=!1,o=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){a=!0,o=r}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return t}}(r,e)||function(r,e){if(r){if(\"string\"==typeof r)return $rY8c$var$_arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return\"Object\"===t&&r.constructor&&(t=r.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(r):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$rY8c$var$_arrayLikeToArray(r,e):void 0}}(r,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function $rY8c$var$_arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var $rY8c$var$e=\"undefined\"!=typeof window,$rY8c$var$r=$rY8c$var$e&&window.cordova&&window.cordova.require&&window.cordova.require(\"cordova/modulemapper\"),$rY8c$var$CustomFile=$rY8c$var$e&&($rY8c$var$r&&$rY8c$var$r.getOriginalSymbol(window,\"File\")||File),$rY8c$var$CustomFileReader=$rY8c$var$e&&($rY8c$var$r&&$rY8c$var$r.getOriginalSymbol(window,\"FileReader\")||FileReader),$rY8c$var$n=$rY8c$var$e&&new Promise(function(r,e){var t,n,a,o;return $rY8c$var$getFilefromDataUrl(\"data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==\",\"test.jpg\",Date.now()).then(function(i){try{return $rY8c$var$drawFileInCanvas(t=i).then(function(i){try{return $rY8c$var$canvasToFile(n=i[1],t.type,t.name,t.lastModified).then(function(t){try{return a=t,$rY8c$var$cleanupCanvasMemory(n),$rY8c$var$getDataUrlFromFile(a).then(function(t){try{return $rY8c$var$loadImage(t).then(function(t){try{return r(1===(o=t).width&&2===o.height)}catch(r){return e(r)}},e)}catch(r){return e(r)}},e)}catch(r){return e(r)}},e)}catch(r){return e(r)}},e)}catch(r){return e(r)}},e)});function $rY8c$var$getDataUrlFromFile(r){return new Promise(function(e,t){var n=new $rY8c$var$CustomFileReader;n.onload=function(){return e(n.result)},n.onerror=function(r){return t(r)},n.readAsDataURL(r)})}function $rY8c$var$getFilefromDataUrl(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(n){for(var a=r.split(\",\"),o=a[0].match(/:(.*?);/)[1],i=window.atob(a[1]),c=i.length,$=new Uint8Array(c);c--;)$[c]=i.charCodeAt(c);var s=new Blob([$],{type:o});s.name=e,s.lastModified=t,n(s)})}function $rY8c$var$loadImage(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=function(r){return t(r)},n.src=r})}function $rY8c$var$drawImageInCanvas(r){var e=$rY8c$var$_slicedToArray($rY8c$var$getNewCanvasAndCtx(r.width,r.height),2),t=e[0];return e[1].drawImage(r,0,0,t.width,t.height),t}function $rY8c$var$drawFileInCanvas(r){return new Promise(function(e,t){var n,a,o=function(){try{return a=$rY8c$var$drawImageInCanvas(n),e([n,a])}catch(r){return t(r)}},i=function(e){try{return $rY8c$var$getDataUrlFromFile(r).then(function(r){try{return $rY8c$var$loadImage(r).then(function(r){try{return n=r,o()}catch(r){return t(r)}},t)}catch(r){return t(r)}},t)}catch(r){return t(r)}};try{return createImageBitmap(r).then(function(r){try{return n=r,o()}catch(r){return i()}},i)}catch(r){i()}})}function $rY8c$var$canvasToFile(r,e,t,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(o,i){var c;return\"function\"==typeof OffscreenCanvas&&r instanceof OffscreenCanvas?r.convertToBlob({type:e,quality:a}).then(function(r){try{return(c=r).name=t,c.lastModified=n,$.call(this)}catch(r){return i(r)}}.bind(this),i):$rY8c$var$getFilefromDataUrl(r.toDataURL(e,a),t,n).then(function(r){try{return c=r,$.call(this)}catch(r){return i(r)}}.bind(this),i);function $(){return o(c)}})}function $rY8c$var$getExifOrientation(r){return new Promise(function(e,t){var n=new $rY8c$var$CustomFileReader;n.onload=function(r){var t=new DataView(r.target.result);if(65496!=t.getUint16(0,!1))return e(-2);for(var n=t.byteLength,a=2;a<n;){if(t.getUint16(a+2,!1)<=8)return e(-1);var o=t.getUint16(a,!1);if(a+=2,65505==o){if(1165519206!=t.getUint32(a+=2,!1))return e(-1);var i=18761==t.getUint16(a+=6,!1);a+=t.getUint32(a+4,i);var c=t.getUint16(a,i);a+=2;for(var $=0;$<c;$++)if(274==t.getUint16(a+12*$,i))return e(t.getUint16(a+12*$+8,i))}else{if(65280!=(65280&o))break;a+=t.getUint16(a,!1)}}return e(-1)},n.onerror=function(r){return t(r)},n.readAsArrayBuffer(r)})}function $rY8c$var$handleMaxWidthOrHeight(r,e){var t,n=r.width,a=r.height,o=e.maxWidthOrHeight,i=r;if(isFinite(o)&&(n>o||a>o)){var c=$rY8c$var$_slicedToArray($rY8c$var$getNewCanvasAndCtx(n,a),2);i=c[0],t=c[1],n>a?(i.width=o,i.height=a/n*o):(i.width=n/a*o,i.height=o),t.drawImage(r,0,0,i.width,i.height),$rY8c$var$cleanupCanvasMemory(r)}return i}function $rY8c$var$followExifOrientation(r,e){var t=r.width,n=r.height,a=$rY8c$var$_slicedToArray($rY8c$var$getNewCanvasAndCtx(t,n),2),o=a[0],i=a[1];switch(4<e&&e<9?(o.width=n,o.height=t):(o.width=t,o.height=n),e){case 2:i.transform(-1,0,0,1,t,0);break;case 3:i.transform(-1,0,0,-1,t,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,t);break;case 8:i.transform(0,-1,1,0,0,t)}return i.drawImage(r,0,0,t,n),$rY8c$var$cleanupCanvasMemory(r),o}function $rY8c$var$getNewCanvasAndCtx(r,e){var t,n;try{if(null===(n=(t=new OffscreenCanvas(r,e)).getContext(\"2d\")))throw new Error(\"getContext of OffscreenCanvas returns null\")}catch(r){n=(t=document.createElement(\"canvas\")).getContext(\"2d\")}return t.width=r,t.height=e,[t,n]}function $rY8c$var$cleanupCanvasMemory(r){r.width=0,r.height=0}function $rY8c$var$compress(r,e){return new Promise(function(t,n){var a,o,i,c,$,s,u,l,f,v,d,m,A,g,h,p,Y,y;function w(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;a+=r,e.onProgress(Math.min(a,100))}function E(r){a=Math.min(Math.max(r,a),100),e.onProgress(a)}return a=0,o=e.maxIteration||10,i=1024*e.maxSizeMB*1024,w(),$rY8c$var$drawFileInCanvas(r).then(function(a){try{var C=$rY8c$var$_slicedToArray(a,2);return C[0],c=C[1],w(),$=$rY8c$var$handleMaxWidthOrHeight(c,e),w(),new Promise(function(t,n){var a;if(!(a=e.exifOrientation))return $rY8c$var$getExifOrientation(r).then(function(r){try{return a=r,o.call(this)}catch(r){return n(r)}}.bind(this),n);function o(){return t(a)}return o.call(this)}).then(function(a){try{return s=a,w(),$rY8c$var$n.then(function(a){try{return u=a?$:$rY8c$var$followExifOrientation($,s),w(),l=e.initialQuality||1,f=e.fileType||r.type,$rY8c$var$canvasToFile(u,f,r.name,r.lastModified,l).then(function(e){try{{if(v=e,w(),d=v.size>i,m=v.size>r.size,!d&&!m)return E(100),t(v);var a;function s(){if(o--&&(h>i||h>A)){var e,t,a=$rY8c$var$_slicedToArray($rY8c$var$getNewCanvasAndCtx(e=d?.95*y.width:y.width,t=d?.95*y.height:y.height),2);return Y=a[0],a[1].drawImage(y,0,0,e,t),l*=.95,$rY8c$var$canvasToFile(Y,\"image/jpeg\",r.name,r.lastModified,l).then(function(r){try{return p=r,$rY8c$var$cleanupCanvasMemory(y),y=Y,h=p.size,E(Math.min(99,Math.floor((g-h)/(g-i)*100))),s}catch(r){return n(r)}},n)}return[1]}return A=r.size,g=v.size,h=g,y=u,(a=function(r){for(;r;){if(r.then)return void r.then(a,n);try{if(r.pop){if(r.length)return r.pop()?C.call(this):r;r=s}else r=r.call(this)}catch(r){return n(r)}}}.bind(this))(s);function C(){return\"image/jpeg\"!==f&&((p=new Blob([p],{type:f})).name=r.name,p.lastModified=r.lastModified),$rY8c$var$cleanupCanvasMemory(y),$rY8c$var$cleanupCanvasMemory(Y),$rY8c$var$cleanupCanvasMemory($),$rY8c$var$cleanupCanvasMemory(u),$rY8c$var$cleanupCanvasMemory(c),E(100),t(p)}}}catch(r){return n(r)}}.bind(this),n)}catch(r){return n(r)}}.bind(this),n)}catch(r){return n(r)}}.bind(this),n)}catch(r){return n(r)}}.bind(this),n)})}$rY8c$var$e&&(Number.isInteger=Number.isInteger||function(r){return\"number\"==typeof r&&isFinite(r)&&Math.floor(r)===r});var $rY8c$var$t,$rY8c$var$a,$rY8c$var$i=0;function $rY8c$var$generateLib(){return r=\"\\n    function imageCompression (){return (\".concat($rY8c$export$default,\").apply(null, arguments)}\\n\\n    imageCompression.getDataUrlFromFile = \").concat($rY8c$export$default.getDataUrlFromFile,\"\\n    imageCompression.getFilefromDataUrl = \").concat($rY8c$export$default.getFilefromDataUrl,\"\\n    imageCompression.loadImage = \").concat($rY8c$export$default.loadImage,\"\\n    imageCompression.drawImageInCanvas = \").concat($rY8c$export$default.drawImageInCanvas,\"\\n    imageCompression.drawFileInCanvas = \").concat($rY8c$export$default.drawFileInCanvas,\"\\n    imageCompression.canvasToFile = \").concat($rY8c$export$default.canvasToFile,\"\\n    imageCompression.getExifOrientation = \").concat($rY8c$export$default.getExifOrientation,\"\\n    imageCompression.handleMaxWidthOrHeight = \").concat($rY8c$export$default.handleMaxWidthOrHeight,\"\\n    imageCompression.followExifOrientation = \").concat($rY8c$export$default.followExifOrientation,\"\\n    imageCompression.cleanupMemory = \").concat($rY8c$export$default.cleanupMemory,\"\\n\\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\\n    loadImage = imageCompression.loadImage\\n    drawImageInCanvas = imageCompression.drawImageInCanvas\\n    drawFileInCanvas = imageCompression.drawFileInCanvas\\n    canvasToFile = imageCompression.canvasToFile\\n    getExifOrientation = imageCompression.getExifOrientation\\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\\n    followExifOrientation = imageCompression.followExifOrientation\\n    cleanupMemory = imageCompression.cleanupMemory\\n\\n    getNewCanvasAndCtx = \").concat($rY8c$var$getNewCanvasAndCtx,\"\\n    \\n    CustomFileReader = FileReader\\n    \\n    CustomFile = File\\n    \\n    function _slicedToArray(arr, n) { return arr }\\n    \\n    function _typeof(a) { return typeof a }\\n\\n    function compress (){return (\").concat($rY8c$var$compress,\").apply(null, arguments)}\\n    \"),URL.createObjectURL(new Blob([r],{type:\"application/javascript\"}));var r}function $rY8c$var$generateWorkerScript(){return\"function\"==typeof(r=\"\\n    let scriptImported = false\\n    self.addEventListener('message', async (e) => {\\n      const { file, id, imageCompressionLibUrl, options } = e.data\\n      options.onProgress = (progress) => self.postMessage({ progress, id })\\n      try {\\n        if (!scriptImported) {\\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\\n          self.importScripts(imageCompressionLibUrl)\\n          scriptImported = true\\n        }\\n        // console.log('[worker] self', self)\\n        const compressedFile = await imageCompression(file, options)\\n        self.postMessage({ file: compressedFile, id })\\n      } catch (e) {\\n        // console.error('[worker] error', e)\\n        self.postMessage({ error: e.message + '\\\\n' + e.stack, id })\\n      }\\n    })\\n  \")&&(r=\"(\".concat(f,\")()\")),new Worker(URL.createObjectURL(new Blob([r])));var r}function $rY8c$export$default(r,e){return new Promise(function(t,n){var a,o,i;if(e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,o=\"boolean\"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,void 0===e.onProgress&&(e.onProgress=function(){}),!(r instanceof Blob||r instanceof $rY8c$var$CustomFile))return n(new Error(\"The file given is not an instance of Blob or File\"));if(!/^image/.test(r.type))return n(new Error(\"The file given is not an image\"));if(i=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!o||\"function\"!=typeof Worker||i)return $rY8c$var$compress(r,e).then(function(r){try{return a=r,s.call(this)}catch(r){return n(r)}}.bind(this),n);var c=function(){try{return s.call(this)}catch(r){return n(r)}}.bind(this),$=function(t){try{return $rY8c$var$compress(r,e).then(function(r){try{return a=r,c()}catch(r){return n(r)}},n)}catch(r){return n(r)}};try{return function(r,e){return new Promise(function(t,n){return new Promise(function(a,o){var i=$rY8c$var$i++;return $rY8c$var$t||($rY8c$var$t=$rY8c$var$generateLib()),$rY8c$var$a||($rY8c$var$a=$rY8c$var$generateWorkerScript()),$rY8c$var$a.addEventListener(\"message\",function r(a){if(a.data.id===i){if(void 0!==a.data.progress)return void e.onProgress(a.data.progress);$rY8c$var$a.removeEventListener(\"message\",r),a.data.error&&n(new Error(a.data.error)),t(a.data.file)}}),$rY8c$var$a.addEventListener(\"error\",n),$rY8c$var$a.postMessage({file:r,id:i,imageCompressionLibUrl:$rY8c$var$t,options:$rY8c$var$_objectSpread2($rY8c$var$_objectSpread2({},e),{},{onProgress:void 0})}),a()})})}(r,e).then(function(r){try{return a=r,c()}catch(r){return $()}},$)}catch(r){$()}function s(){try{a.name=r.name,a.lastModified=r.lastModified}catch(r){}return t(a)}})}$rY8c$export$default.getDataUrlFromFile=$rY8c$var$getDataUrlFromFile,$rY8c$export$default.getFilefromDataUrl=$rY8c$var$getFilefromDataUrl,$rY8c$export$default.loadImage=$rY8c$var$loadImage,$rY8c$export$default.drawImageInCanvas=$rY8c$var$drawImageInCanvas,$rY8c$export$default.drawFileInCanvas=$rY8c$var$drawFileInCanvas,$rY8c$export$default.canvasToFile=$rY8c$var$canvasToFile,$rY8c$export$default.getExifOrientation=$rY8c$var$getExifOrientation,$rY8c$export$default.handleMaxWidthOrHeight=$rY8c$var$handleMaxWidthOrHeight,$rY8c$export$default.followExifOrientation=$rY8c$var$followExifOrientation,$rY8c$export$default.cleanupMemory=$rY8c$var$cleanupCanvasMemory,$rY8c$export$default.version=\"1.0.13\",$rY8c$exports.default=$rY8c$export$default;"},"sourceMaps":null,"error":null,"hash":"feab351df64d4503022537ad0aaac2f6","cacheData":{"env":{},"imports":{},"exports":{"default":"$rY8c$export$default"},"wildcards":[],"sideEffects":true,"isES6Module":true}}